<html>
<body>
<style>p{font-family:'coming soon', cursive;text-align: center;}#button-yo{margin:auto;border: 1px solid pink;width: 100px;text-align: center;}</style>
<p class="text">To rainbowify this text, use $('span.text').rainbowify(), or just click the button! </p>

<p id="button-yo">RAINBOWIFY</button>

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script>
$.fn.rainbowify = function () {
	$('head').append(
		'<style type="text/css">'
		+'.rainbowify-red{color:red;}'
        +'.rainbowify-yellow{color:rgb(218, 224, 0);}'
        +'.rainbowify-orange{color:orange;}'
        +'.rainbowify-green{color:green;}'
        +'.rainbowify-blue{color:blue;}'
        +'.rainbowify-purple{color:purple;}'
        +'.rainbowify-brown{color:brown;}'
        +'.rainbowify-black{color:black;}'
		+'</style>'
	);
	
    var textSelector;
    if (!$(this).attr('id'))
        textSelector = '.' + $(this).attr('class');
    else
        textSelector = '.' + $(this).attr('id');

    var s = $(textSelector).text();
    var rainbowified = '';
    var colors =
        ["rainbowify-red"
        , "rainbowify-yellow"
        , "rainbowify-orange"
        , "rainbowify-green"
        , "rainbowify-blue"
        , "rainbowify-purple"
        , "rainbowify-brown"
        , "rainbowify-black"
        ];
    for (var i = 0, temp = 0; i < s.length; i++, temp++) {
        if (temp >= colors.length)
            temp = 0;
        rainbowified += '<span class="' + colors[temp] + '">' + s[i] + '</span>';
    }
    console.log(rainbowified);
    $(textSelector).html(rainbowified);
}

$('#button-yo').click(function(){$('p.text').rainbowify();});</script>
<link href='http://fonts.googleapis.com/css?family=Coming+Soon' rel='stylesheet' type='text/css'>
</body>
</html>